# Migration `20200917030452-inital-migration`

This migration has been generated by aeuna at 9/17/2020, 12:04:52 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Branch" DROP COLUMN "googleMapId",
ADD COLUMN "longitude" Decimal(65,30)   ,
ADD COLUMN "latitude" Decimal(65,30)   

ALTER TABLE "public"."Setting" DROP COLUMN "popularTagId"

ALTER TABLE "public"."Tag" ADD COLUMN "isRecommendation" integer   NOT NULL 
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200916074550-initial-migration..20200917030452-inital-migration
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model User {
   id              Int            @id @default(autoincrement())
@@ -153,9 +153,10 @@
   logoUrl      String?
   phoneNumbers String[]
   products     Product[]
   address      String
-  googleMapId  Int?
+  longitude    Float?
+  latitude     Float?
   tags         Tag[]
   createdAt    DateTime     @default(now())
   updatedAt    DateTime     @default(now()) @updatedAt
 }
@@ -248,23 +249,24 @@
   updatedAt DateTime @default(now()) @updatedAt
 }
 model Tag {
-  id            Int            @id @default(autoincrement())
-  classId       Int
-  Class         Class          @relation(fields: [classId], references: [id])
-  names         TagName[]
-  shops         Shop[]
-  branches      Branch[]
-  posts         Post[]
-  products      Product[]
-  events        Event[]
-  category      Category?
-  tagImage      String?
-  searchTagLogs SearchTagLog[]
-  isClass       Boolean
-  createdAt     DateTime       @default(now())
-  updatedAt     DateTime       @default(now()) @updatedAt
+  id               Int            @id @default(autoincrement())
+  classId          Int
+  Class            Class          @relation(fields: [classId], references: [id])
+  names            TagName[]
+  shops            Shop[]
+  branches         Branch[]
+  posts            Post[]
+  products         Product[]
+  events           Event[]
+  category         Category?
+  tagImage         String?
+  searchTagLogs    SearchTagLog[]
+  isClass          Boolean
+  isRecommendation Int
+  createdAt        DateTime       @default(now())
+  updatedAt        DateTime       @default(now()) @updatedAt
 }
 model TagName {
   id        Int      @id @default(autoincrement())
@@ -380,9 +382,8 @@
   shopConstB         Float
   shopConstC         Float
   adminEmail         String
   adminEmailPW       String
-  popularTagId       Int[]
   mainEventBannerId  Int[]
   QuestionOption     String[]
   SearchPeriod       Int
   createdAt          DateTime @default(now())
```


